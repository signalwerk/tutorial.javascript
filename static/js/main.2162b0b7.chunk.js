(this["webpackJsonptutorial.javascript"]=this["webpackJsonptutorial.javascript"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(45),i=n.n(a),s=(n(65),n(66),n(67),n(30)),o=n(8),l=(n(68),n(1)),d=[],u=[],p="";var h=function(e){var t=e.code,n=e.check,r=e.hideErrors,a=e.themeNetative,i=e.solved,h=Object(c.useState)([]),j=Object(o.a)(h,2),v=j[0],b=j[1],f=Object(c.useState)([]),O=Object(o.a)(f,2),_=O[0],m=O[1],g=Object(c.useState)(""),x=Object(o.a)(g,2),y=x[0],E=x[1];function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;d=[].concat(Object(s.a)(d),[{x:e,y:t,width:n,height:c}])}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";u=[].concat(Object(s.a)(u),[e])}var C={log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";u=[].concat(Object(s.a)(u),[e])}};function N(e,t,n,c){return d.filter((function(r){var a=!0;return e&&(a=r.x===e),t&&(a=r.y===t),n&&(a=r.width===n),c&&(a=r.height===c),a})).length}function R(e){return u.filter(e).length}function w(e){i&&i(e)}return Object(c.useEffect)((function(){d=[],u=[],p="",function(e,t){e&&function(e){try{Function("return (\n"+e+"\n)")()(S,T,N,R,w,C)}catch(t){w(!1),p=t.name+": "+t.message}}("function(Box, print, hasBox, hasText, complete, console){ \n".concat(e,"\n").concat(t||"","\n }"))}(t,n),b(d),m(u),E(p)}),[t,n]),Object(l.jsxs)("div",{className:a?"preview preview--negative":"preview",children:[Object(l.jsx)("div",{className:"preview__view",children:Object(l.jsxs)("svg",{width:"215",height:"302",viewBox:"-2.5 -2.5 215 302",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("rect",{className:"svg__rect svg__paper",width:"210",height:"297"}),Object(l.jsx)("text",{className:"svg__text code",textAnchor:"end",x:"205",y:"18",children:"A4"}),v.map((function(e,t){return Object(l.jsx)("rect",{className:"svg__rect",x:e.x,y:e.y,width:e.width,height:e.height},t)}))]})}),_.length>0&&Object(l.jsx)("div",{className:"preview__console code",children:Object(l.jsx)("pre",{children:_.map((function(e,t){return Object(l.jsxs)("code",{children:[JSON.stringify(e),"\n"]},t)}))})}),y&&!r&&Object(l.jsxs)("div",{className:"preview__error",children:[Object(l.jsx)("p",{children:"\u26a0\ufe0f Der Code hat im Moment noch Fehler."}),Object(l.jsx)("div",{className:"preview__debug",children:Object(l.jsx)("code",{children:y})})]})]})};var j=function(e){var t=e.children,n=e.preview,c=e.check,r=e.hideErrors,a=e.focus,i=e.solved;return Object(l.jsxs)("div",{className:"work-space work-space--".concat(a?"focus":"blur"),children:[Object(l.jsx)("div",{className:"work-space__file",children:t}),Object(l.jsx)("div",{className:"work-space__canvas",children:Object(l.jsx)(h,{code:n,check:c,hideErrors:r,themeNetative:!0,solved:i})})]})},v=n(11);n(70);var b=function(e){var t=e.children,n=e.done,c=e.next;return Object(l.jsxs)("div",{className:"callout callout--".concat(n?"done":"open"),children:[t,!0===n&&Object(l.jsx)(v.b,{to:c,children:Object(l.jsxs)("div",{className:"callout__next",children:[Object(l.jsx)("div",{className:"callout__next-icon icon icon-right"}),Object(l.jsx)("h3",{className:"callout__next-text",children:"N\xe4chste Aufgabe"})]})})]})};n(78);var f=function(){return Object(l.jsx)("span",{className:"status-icon status-icon--ok",children:Object(l.jsx)("span",{className:"icon icon-ok"})})},O=n(20),_=n.n(O),m=(n(79),function e(t,n){switch(t.type){case O.mdTypes.INLINE_CODE:return Object(l.jsx)("code",{children:t.value},n);case O.mdTypes.EMPHASIS:case O.mdTypes.STRONG:return Object(l.jsx)("em",{children:t.children.map((function(t,n){return e(t,n)}))},n);case O.mdTypes.LINK:return Object(l.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:null===t||void 0===t?void 0:t.children.map((function(t,n){return e(t,n)}))},n);case O.mdTypes.TEXT:return Object(l.jsx)("span",{className:"markdown__text",children:t.value},n);default:return Object(l.jsx)("span",{children:"\u26a0\ufe0f no handling"})}}),g=function(e){var t=e.text,n=_()(t);return Object(l.jsx)("span",{className:"markdown",children:n&&n.map((function(e,t){return m(e,t)}))})},x=n(26),y=n.n(x),E=n(47);function S(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e}),[e]),t.current}var T={data:null,isLoading:!1,error:null},C=function(e,t){switch(t.type){case"FETCH_START":return{data:null,isLoading:!0,error:null};case"FETCH_SUCCESS":return{data:t.payload,isLoading:!1,error:null};case"FETCH_ERROR":return{data:null,isLoading:!1,error:t.payload};default:return e}};var N,R=function(e,t){var n=S(e),r=Object(c.useReducer)(C,T),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useCallback)(Object(E.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s({type:"FETCH_START"}),fetch(e,t).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){s({type:"FETCH_SUCCESS",payload:e})})).catch((function(){s({type:"FETCH_ERROR",payload:!0})}));case 2:case"end":return n.stop()}}),n)}))),[e]);return Object(c.useEffect)((function(){l()}),[e]),n!==e?{response:null,loading:!0,hasError:!1}:{response:i.data,loading:i.isLoading,hasError:i.error}},w=n(9),k=(n(81),n(5)),P=n(29);!function(e){e.SET_PROGRESS="SET_PROGRESS",e.SET_CURRENT_STEP_PROGRESS="SET_CURRENT_STEP_PROGRESS",e.SET_CURRENT_CHAPTER_PROGRESS="SET_CURRENT_CHAPTER_PROGRESS",e.SET_EDITOR_CONTENT="SET_EDITOR_CONTENT",e.SET_EDITOR_SELECTION="SET_EDITOR_SELECTION",e.SET_EDITOR_FOCUS="SET_EDITOR_FOCUS"}(N||(N={}));var D,L={current:{editor:{selection:{start:0,end:0},content:"",focus:!1}},progress:{}},I=function(e,t){switch(t.type){case N.SET_CURRENT_STEP_PROGRESS:return function(){var n=t.payload,c=n.chapter,r=n.step,a=n.value,i=Object(P.set)(Object(k.a)({},e.progress)||{},[c,"steps",r,"done"],a);return Object(k.a)(Object(k.a)({},e),{},{progress:Object(k.a)({},i)})}();case N.SET_CURRENT_CHAPTER_PROGRESS:return function(){var n=t.payload,c=n.chapter,r=n.value,a=Object(P.set)(Object(k.a)({},e.progress)||{},[c,"done"],r);return Object(k.a)(Object(k.a)({},e),{},{progress:Object(k.a)({},a)})}();case N.SET_PROGRESS:return function(){var n=t.payload.progress;return Object(k.a)(Object(k.a)({},e),{},{progress:Object(k.a)(Object(k.a)({},e.progress),n)})}();case N.SET_EDITOR_CONTENT:return function(){var n=t.payload,c=n.chapter,r=n.step,a=n.value,i=Object(P.set)(Object(k.a)({},e.progress)||{},[c,"steps",r,"editor","content"],a);return Object(k.a)(Object(k.a)({},e),{},{current:Object(k.a)(Object(k.a)({},e.current),{},{editor:Object(k.a)(Object(k.a)({},e.current.editor),{},{content:a})}),progress:Object(k.a)({},i)})}();case N.SET_EDITOR_SELECTION:return function(){var n=t.payload.value;return Object(k.a)(Object(k.a)({},e),{},{current:Object(k.a)(Object(k.a)({},e.current),{},{editor:Object(k.a)(Object(k.a)({},e.current.editor),{},{selection:n})})})}();case N.SET_EDITOR_FOCUS:return function(){var n=t.payload.value;return Object(k.a)(Object(k.a)({},e),{},{current:Object(k.a)(Object(k.a)({},e.current),{},{editor:Object(k.a)(Object(k.a)({},e.current.editor),{},{focus:n})})})}()}},A=Object(c.createContext)({state:L,dispatch:function(){return null}}),K=function(e){var t=e.children,n=Object(c.useReducer)(I,L),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){if(localStorage){var e=localStorage.getItem("session.progress");e&&i({type:N.SET_PROGRESS,payload:{progress:JSON.parse(e)}})}}),[]),Object(c.useEffect)((function(){localStorage.setItem("session.progress",JSON.stringify(a.progress))}),[a.progress]),Object(l.jsx)(A.Provider,{value:{state:a,dispatch:i},children:t})},U=n(48),F=Object({NODE_ENV:"production",PUBLIC_URL:"https://www.escep.ch/basics",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"1623419481"}).REACT_APP_DEV?"".concat(U.homepage):"".concat("https://www.escep.ch/basics"),H={course:"".concat(F,"/api/course/js/basic/course.json"),chapter:function(e){var t=e.chapter;return"".concat(F,"/api/course/js/basic/chapter/").concat(t,".json")},step:function(e){var t=e.chapter,n=e.step;return"".concat(F,"/api/course/js/basic/chapter/").concat(t,"/").concat(n,".json")},movie:function(e){var t=e.chapter,n=e.step;return"https://www.escep.ch/videos/convert/course/js/basic/chapter/".concat(t,"/").concat(n,"/playlist.m3u8")}},M=function(e){var t=e.chapter;return"/course/js/basic/".concat(t,"/overview")},B=function(e){var t=e.chapter,n=e.step;return"/course/js/basic/".concat(t,"/").concat(n)};!function(e){e.ADD_LANG="ADD_LANG",e.SET_CHAPTERS="SET_CHAPTERS"}(D||(D={}));var G={chapters:[],lang:{}},X=function(e,t){switch(t.type){case D.ADD_LANG:return function(){var n=t.payload.lang;return Object(k.a)(Object(k.a)({},e),{},{lang:Object(k.a)(Object(k.a)({},e.lang),n)})}();case D.SET_CHAPTERS:return function(){var n=t.payload.chapters;return Object(k.a)(Object(k.a)({},e),{},{chapters:n})}()}},V=Object(c.createContext)({state:G,dispatch:function(){return null}}),W=function(e){var t=e.children,n=Object(c.useReducer)(X,G),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){fetch(H.course).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){e&&(i({type:D.SET_CHAPTERS,payload:{chapters:e.chapters}}),i({type:D.ADD_LANG,payload:{lang:e.lang}}))}))}),[H.course]),Object(l.jsx)(V.Provider,{value:{state:a,dispatch:i},children:t})};n(83);function z(e){var t=e.children,n=e.done,c=e.active;return Object(l.jsx)("div",{className:"capter-menu__item ".concat(c?"capter-menu__item--active":"capter-menu__item--inactive"," ").concat(n&&!c?"capter-menu__item--done":"capter-menu__item--open"),children:t})}var J=function(){var e=Object(c.useContext)(A).state,t=Object(c.useContext)(V).state,n=Object(w.f)().chapter;return Object(l.jsx)("div",{className:"capter-menu",children:Object(l.jsx)("div",{className:"capter-menu__list",children:t.chapters&&t.chapters.map((function(t){var c,r;return Object(l.jsx)(z,{done:e.progress&&(null===(c=e.progress[n])||void 0===c?void 0:c.done)||!1,active:n===t.id,children:Object(l.jsxs)(v.b,{to:"/course/js/basic/".concat(t.id,"/overview"),children:[e.progress&&(null===(r=e.progress[t.id])||void 0===r?void 0:r.done)&&Object(l.jsx)(f,{}),t.title]})},t.id)}))})})};n(84);function $(e){var t=e.children,n=e.done,c=e.active;return Object(l.jsx)("div",{className:"step-menu__item ".concat(c?"step-menu__item--active":"step-menu__item--inactive"," ").concat(n&&!c?"step-menu__item--done":"step-menu__item--open"),children:t})}var q=function(e){var t=e.steps,n=Object(c.useContext)(A).state,r=Object(w.f)(),a=r.step,i=r.chapter;return Object(l.jsx)("div",{className:"step-menu",children:Object(l.jsx)("div",{className:"step-menu__list",children:t.map((function(e){var t,c,r,s;return Object(l.jsx)($,{done:n.progress&&(null===(t=n.progress[i])||void 0===t?void 0:t.steps[e.id])&&(null===(c=n.progress[i])||void 0===c?void 0:c.steps[e.id].done)||!1,active:a===e.id,children:Object(l.jsxs)(v.b,{className:"step-menu__link",to:B({chapter:i,step:e.id}),children:[n.progress&&(null===(r=n.progress[i])||void 0===r?void 0:r.steps[e.id])&&(null===(s=n.progress[i])||void 0===s?void 0:s.steps[e.id].done)&&Object(l.jsx)(f,{}),e.title]})},e.id)}))})})},Z=(n(85),n(19)),Q=(n(98),n(54)),Y=(n(100),function(e){var t=e.max,n=e.value,c=e.onChange;return Object(l.jsx)("div",{className:"track",children:Object(l.jsx)(Q.Range,{step:.1,min:0,max:Math.round(10*t)/10,values:[n],onChange:function(e){return c(e[0])},renderTrack:function(e){var c=e.props,r=e.children;return Object(l.jsxs)("div",Object(k.a)(Object(k.a)({},c),{},{className:"track__range",children:[Object(l.jsx)("div",{className:"track__played",style:{width:"".concat(100/t*n,"%")}}),r]}))},renderThumb:function(e){var t=e.props;return Object(l.jsx)("div",Object(k.a)(Object(k.a)({},t),{},{className:"track__thumb"}))}})})}),ee=(n(101),n(28)),te=["src","autoplay","onReady","onPlay","onPause","onTimeUpdate","onSeeking","onLoadedmetadata","onSeeked","onEnd"];var ne,ce=function(e){var t=e.onTimeUpdate,n=e.src,r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],s=a[1],d=Object(c.useState)(!1),u=Object(o.a)(d,2),p=u[0],h=u[1],j=Object(c.useState)(0),v=Object(o.a)(j,2),b=v[0],f=v[1],O=Object(c.useState)(""),_=Object(o.a)(O,2),m=_[0],g=_[1],x=Object(c.useState)(0),y=Object(o.a)(x,2),E=y[0],T=y[1],C=Object(c.useState)(!0),N=Object(o.a)(C,2),R=N[0],w=N[1],k=Object(c.useRef)(null),P=function(e){t(e||0),T(e||0)};Object(c.useEffect)((function(){P(0),f(0),h(!1),s(!1),w(!0)}),[n]);var D=function(e){var t,n=e.src,r=e.autoplay,a=e.onReady,i=e.onPlay,s=e.onPause,o=e.onTimeUpdate,l=e.onSeeking,d=e.onLoadedmetadata,u=e.onSeeked,p=e.onEnd,h=Object(ee.a)(e,te),j=Object(c.useRef)(null),v=S(n),b=S(r);Object(c.useEffect)((function(){v===n||v||(f(),m()),v!==n&&v&&(O(),g(),m()),b!==r&&void 0!==b&&(_(),g(),m())}),[n,r]);var f=function(){(t=Object(Z.a)(j.current,h)).src(n),t.autoplay(r||!1)},O=function(){(t=Object(Z.a)(j.current)).src(n)},_=function(){(t=Object(Z.a)(j.current)).autoplay(r||!1)},m=function(){var e=0,n=0,c=0;t.ready((function(){a&&a(t)})),t.on("play",(function(){i&&i(t.currentTime())})),t.on("pause",(function(){s&&s(t.currentTime())})),t.on("timeupdate",(function(){o&&(o(t.currentTime()),n=e,e=t.currentTime(),n<e&&(c=n,n=e))})),t.on("seeking",(function(){l&&(t.off("timeupdate"),t.one("seeked"),l(t.currentTime()))})),t.on("loadedmetadata",(function(){d&&d(t.duration())})),t.on("seeked",(function(){if(u){var e=Math.floor(t.currentTime());u(c,e)}})),t.on("ended",(function(){p&&p(t.currentTime())}))},g=function(){t.off("play"),t.off("pause"),t.off("timeupdate"),t.off("seeking"),t.off("seeked"),t.off("ended")};return{videoNodeRef:j}}({src:n,controls:!1,autoplay:!1,responsive:!1,bigPlayButtonCentered:!1,width:200,height:200,html5:{hls:{overrideNative:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},onPlay:function(e){P(e)},onPause:function(e){P(e)},onEnd:function(e){s(!1),P(e)},onReady:function(e){k.current=e},onTimeUpdate:function(e){T(e),P(e)},onLoadedmetadata:function(e){f(e)}}).videoNodeRef,L=function(){k.current&&(s(!i),i?k.current.pause():k.current.play())},I=Z.a.formatTime(Math.min(E,b),600);return Object(c.useEffect)((function(){g(Z.a.formatTime(b,600))}),[b]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"video-player",children:[Object(l.jsx)("div",{className:"video-player__video",children:Object(l.jsx)("div",{"data-vjs-player":!0,children:Object(l.jsx)("video",{ref:D})})}),Object(l.jsxs)("div",{className:"video-player__bar",children:[Object(l.jsx)("div",{className:"video-player__track",children:!!b&&Object(l.jsx)(Y,{max:b,value:E,onChange:function(e){return t=e,void(k.current&&k.current.currentTime(t));var t}})}),Object(l.jsxs)("div",{className:"video-player__control",children:[!!b&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"video-player__btn ".concat(i?"icon-pause":"icon-play"),onClick:L}),Object(l.jsx)("button",{className:"video-player__btn ".concat(p?"icon-volume-off":"icon-volume-up"),onClick:function(){k.current&&(h(!p),p?k.current.muted(!1):k.current.muted(!0))}})]}),Object(l.jsxs)("div",{className:"video-player__time",children:[I," | ",m]})]})]}),!!b&&R&&Object(l.jsx)("div",{className:"video-player__big-start",children:Object(l.jsx)("button",{onClick:function(){k.current&&(w(!1),L())},children:Object(l.jsx)("span",{className:"icon-play"})})})]})})},re=(n(102),n(18)),ae=n(21);n(42),n(43),n(44);!function(e){e.TEXT="TEXT",e.MARK="MARK",e.TEXT_SELECTED="TEXT_SELECTED"}(ne||(ne={}));var ie=function(e){switch(e.type){case ne.TEXT:return Object(l.jsx)("span",{className:"part part--text",children:e.value});case ne.MARK:return Object(l.jsx)("span",{className:"part part--mark",children:"\u200b"});case ne.TEXT_SELECTED:return Object(l.jsx)("span",{className:"part part--selected",children:e.value})}},se=function(e,t,n){var c=t===n,r=0;return e.split("\n").map((function(e){var a=null;return a=c?t>=r&&n<=r+e.length?[{type:ne.TEXT,value:e.slice(0,t-r)},{type:ne.MARK,value:""},{type:ne.TEXT,value:e.slice(n-r)}]:[{type:ne.TEXT,value:e}]:t<=r&&n>r?[{type:ne.TEXT_SELECTED,value:e.slice(0,n-r)},{type:ne.TEXT,value:e.slice(n-r)}]:t>=r&&t<r+e.length?[{type:ne.TEXT,value:e.slice(0,t-r)},{type:ne.TEXT_SELECTED,value:e.slice(t-r,n-r)},{type:ne.TEXT,value:e.slice(n-r,e.length)}]:[{type:ne.TEXT,value:e}],r+=e.length+1,a})).map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsx)("code",{children:e.map((function(e,n){return Object(l.jsx)("span",{children:ie(e)},"line_".concat(t,"_part_").concat(n))}))})},"line_".concat(t))}))};var oe=function(e){var t=e.editor;return Object(l.jsxs)("div",{className:"text-player code",children:[Object(l.jsx)("pre",{className:"text-player__highlight",style:Object(k.a)(Object(k.a)({},re.b.editor),re.b.highlight),dangerouslySetInnerHTML:{__html:Object(ae.highlight)(t.content,ae.languages.js)+"<br />"}}),Object(l.jsx)("pre",{className:"text-player__selection",style:Object(k.a)(Object(k.a)({},re.b.editor),re.b.highlight),"aria-hidden":"true",children:t&&se(t.content,t.selection.start,t.selection.end)})]})};var le=function(){var e=Object(c.useContext)(V).state.lang,t=Object(w.f)(),n=t.chapter,r=t.step,a=Object(c.useState)(0),i=Object(o.a)(a,2),s=i[0],d=i[1],u=R(H.step({chapter:n,step:r})),p=u.response,j=u.hasError,v=p?function(e,t){for(var n=e.length;n--;)if(t(e[n],n,e))return n;return-1}(p,(function(e){return e.time<=1e3*s})):0,b=!!p&&p[v];return Object(l.jsx)("div",{className:"player",children:Object(l.jsxs)("div",{className:"player__content",children:[Object(l.jsx)("div",{className:"player__video",children:Object(l.jsx)(ce,{onTimeUpdate:function(e){return d(e)},src:H.movie({chapter:n,step:r})})}),Object(l.jsx)("div",{className:"player__code",children:!j&&b&&Object(l.jsx)(oe,{editor:b.editor})||Object(l.jsx)("span",{children:e["video.error"]})}),Object(l.jsx)("div",{className:"player__preview",children:!j&&b&&Object(l.jsx)(h,{code:b.editor.content,hideErrors:!0})})]})})},de=(n(103),function(e){var t=e.content,n=Object(c.useContext)(A).dispatch,r=Object(w.f)(),a=r.chapter,i=r.step,s=Object(c.useRef)(null);Object(c.useEffect)((function(){var e;null===s||void 0===s||null===(e=s.current)||void 0===e||e.focus()}),[]);return Object(l.jsx)("div",{className:"editor",children:Object(l.jsx)(re.a,{className:"editor__editor code",preClassName:"editor__textarea-pre",textareaClassName:"editor__textarea-textarea",onFocus:function(){n({type:N.SET_EDITOR_FOCUS,payload:{value:!0}})},onBlur:function(){n({type:N.SET_EDITOR_FOCUS,payload:{value:!1}})},onSelect:function(e){var t,c=e.target.selectionStart||0,r=e.target.selectionEnd||c;t={start:c,end:r},n({type:N.SET_EDITOR_SELECTION,payload:{value:t}})},onValueChange:function(e){var t;t=e,n({type:N.SET_EDITOR_CONTENT,payload:{chapter:a,step:i,value:t}})},value:t,highlight:function(e){return Object(ae.highlight)(e,ae.languages.js)},style:{}})})});n(104);var ue=function(e){var t=e.children,n=e.className,c=void 0===n?"":n;return Object(l.jsx)("div",{className:"content ".concat(c),children:t})};function pe(e,t){var n=e.length,c=e.findIndex(t);return c>=0&&c<n-1?c+1:-1}var he=function(){var e,t,n,r,a,i=Object(c.useContext)(V),s=i.state,o=i.state.lang,d=Object(c.useContext)(A),u=d.state,p=d.dispatch,h=Object(w.f)(),v=h.chapter,O=h.step,_=H.chapter({chapter:v}),m=R(_),x=m.response,y=m.loading,E=m.hasError,S=null===x||void 0===x?void 0:x.find((function(e){return e.id===O})),T=u.progress&&(null===(e=u.progress[v])||void 0===e?void 0:e.steps[O]),C=null===T||void 0===T?void 0:T.done,k=u.progress&&(null===(t=u.progress[v])||void 0===t||null===(n=t.steps[O])||void 0===n||null===(r=n.editor)||void 0===r?void 0:r.content)||"",P="",D=x&&pe(x,(function(e){return e.id===O}))||0;if(x&&D>0)P=B({chapter:v,step:x[D].id});else if(x&&v){var L=s.chapters&&pe(s.chapters,(function(e){return e.id===v}))||0;s.chapters&&L>0&&(P=M({chapter:s.chapters[L].id}))}var I=function(e){if(C!==e){p({type:N.SET_CURRENT_STEP_PROGRESS,payload:{chapter:v,step:O,value:e}});var t=null===x||void 0===x?void 0:x.filter((function(t){var n,c;return t.id===O?e:u.progress&&(null===(n=u.progress[v])||void 0===n?void 0:n.steps[t.id])&&(null===(c=u.progress[v])||void 0===c?void 0:c.steps[t.id].done)})),n=(null===t||void 0===t?void 0:t.length)===(null===x||void 0===x?void 0:x.length);p({type:N.SET_CURRENT_CHAPTER_PROGRESS,payload:{chapter:v,value:n}})}};return Object(c.useEffect)((function(){var e=null===S||void 0===S?void 0:S.task.match;if(e&&k){var t=e.match(new RegExp("^/(.*?)/([gimy]*)$"));if(3===(null===t||void 0===t?void 0:t.length)){var n=new RegExp(t[1],t[2]).test(k);I(n)}}}),[k]),Object(l.jsxs)("div",{className:"viewer",children:[Object(l.jsx)("div",{className:"viewer__chapter-menu",children:Object(l.jsx)(J,{})}),Object(l.jsxs)("div",{className:"viewer__content",children:[Object(l.jsx)("div",{className:"viewer__step-menu",children:Object(l.jsxs)("div",{className:"viewer__step-menu-inner",children:[x&&Object(l.jsx)(q,{steps:x}),y&&Object(l.jsxs)("span",{children:[" ",o["step.loading"]]}),E&&Object(l.jsxs)("span",{children:[" ",o["step.error"]]})]})}),Object(l.jsxs)("div",{className:"viewer__step",children:[Object(l.jsx)("div",{className:"viewer__teach",children:Object(l.jsx)(ue,{className:"viewer__teach-inner",children:Object(l.jsx)(le,{})})}),Object(l.jsx)("div",{className:"viewer__task",children:Object(l.jsx)(ue,{children:Object(l.jsx)(b,{done:C||!1,next:P,children:Object(l.jsxs)("div",{className:"viewer__task-text",children:[Object(l.jsxs)("h2",{children:[C&&Object(l.jsx)(f,{}),o["step.task"]]}),Object(l.jsx)("p",{children:S&&Object(l.jsx)(g,{text:S.task.instruction})})]})})})}),Object(l.jsx)("div",{className:"viewer__learn",children:Object(l.jsx)(ue,{children:!y&&Object(l.jsx)(j,{preview:(null===T||void 0===T||null===(a=T.editor)||void 0===a?void 0:a.content)||"",check:null===S||void 0===S?void 0:S.task.check,solved:I,focus:u.current.editor.focus,children:Object(l.jsx)(de,{content:k})})})})]})]})]})};n(105);var je=function(){var e=Object(c.useContext)(A).state,t=Object(w.f)(),n={chapter:t.chapter,step:t.step,selection:"".concat(e.current.editor.selection.start," \u2013 ").concat(e.current.editor.selection.end)};return Object(l.jsxs)("div",{className:"debug",children:[Object(l.jsx)("h3",{children:"Debug"}),Object(l.jsx)("pre",{className:"code",children:Object(l.jsx)("code",{children:JSON.stringify(n,null,2)})})]})},ve=n(57),be=n.n(ve),fe=n(58),Oe=(n(113),function(e){var t=e.children,n=e.onClick;return Object(l.jsx)("button",{className:"button",onClick:n,children:t})});n(114);function _e(e){var t=e.srcBlob,n=e.audio;if(!t)return null;if(n)return Object(l.jsx)("audio",{src:URL.createObjectURL(t),controls:!0});return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)("video",{src:URL.createObjectURL(t),width:520,height:293,controls:!0}),Object(l.jsx)("div",{children:Object(l.jsx)(Oe,{onClick:function(e){Object(fe.saveAs)(t,"film.webm")},children:"download"})})]})})}function me(e){var t=e.stream,n=r.a.useRef();return r.a.useEffect((function(){n.current&&t&&(n.current.srcObject=t)}),[t]),t?Object(l.jsx)("video",{ref:n,width:520,height:293,autoPlay:!0}):null}var ge=0,xe=[];var ye=function(){var e=Object(c.useContext)(A).state,t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),d=s[0],u=s[1],p=Object(w.f)(),h=p.chapter,j=p.step,v=be()({blobOptions:{type:"video/webm;codecs=h264",audioBitsPerSecond:32e4,videoBitsPerSecond:8e6},mediaStreamConstraints:{audio:!0,video:{width:1920,height:1080}}}),b=v.error,f=v.status,O=v.mediaBlob,_=v.stopRecording,m=v.getMediaStream,g=v.clearMediaStream,x=v.startRecording,y=v.liveStream;return Object(c.useEffect)((function(){var t=Date.now();xe.push({time:t-ge,editor:{content:e.current.editor.content,selection:{start:e.current.editor.selection.start,end:e.current.editor.selection.end}}})}),[e.current.editor.content,e.current.editor.selection.start,e.current.editor.selection.end]),Object(c.useEffect)((function(){if("stopped"===f){var e=new FileReader;e.readAsDataURL(O),e.onloadend=function(){var t=e.result.toString(),n=t.substr(t.indexOf(",")+1);fetch("http://localhost:3005/media/".concat(h,"/").concat(j),{method:"post",body:n}).then((function(e){console.log("done video")})).then((function(e){console.log("error video",e)}))}}}),[f]),Object(l.jsxs)("div",{className:"admin",children:[Object(l.jsx)("h3",{children:"Recorder"}),Object(l.jsx)("p",{children:b?"".concat(f," ").concat(b.message):f}),Object(l.jsxs)("div",{className:"admin__preview",children:[Object(l.jsx)("div",{className:"admin__preview-btn",children:!d&&Object(l.jsx)("button",{type:"button",onClick:function(e){u(!0),m()},children:"Preview"})||Object(l.jsx)("button",{type:"button",onClick:function(e){u(!1),g()},children:"Stop Preview"})}),Object(l.jsxs)("div",{className:"admin__preview-screen",children:[Object(l.jsx)("svg",{width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 0H0V9H8.5H16V0H8.5ZM8.5 0C10.9853 0 13 2.01472 13 4.5C13 6.98528 10.9853 9 8.5 9C6.01472 9 4 6.98528 4 4.5C4 2.01472 6.01472 0 8.5 0Z",fill:"black",fillOpacity:"0.7"})}),Object(l.jsx)(me,{stream:y})]})]}),Object(l.jsx)(_e,{srcBlob:O}),!r&&Object(l.jsx)(Oe,{onClick:function(t){return x(),a(!0),ge=Date.now(),void(xe=[]).push({time:0,editor:{content:e.current.editor.content,selection:{start:e.current.editor.selection.start,end:e.current.editor.selection.end}}})},children:"Record"})||Object(l.jsx)(Oe,{onClick:function(e){return _(),a(!1),fetch("http://localhost:3005",{method:"post",body:JSON.stringify({chapter:h,step:j,content:JSON.stringify(xe,null,2)})}).then((function(e){console.log("done text")})).then((function(e){console.log("error text",e)})),void(xe=[])},children:"Stop"})]})},Ee=(n(115),new Intl.DateTimeFormat("de-DE",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(1e3*parseInt("1623419481",10))).replace(",",""));var Se=function(){return Object(l.jsxs)("div",{className:"version",children:["Version ",Ee]})},Te=(n(116),function(){var e=Object(c.useContext)(V).state.lang;return Object(l.jsx)("div",{className:"home",children:Object(l.jsxs)("div",{className:"home__inner",children:[Object(l.jsx)("h1",{className:"home__title",children:e["intro.title"]}),Object(l.jsx)("p",{className:"home__intro inline-link",children:Object(l.jsx)(g,{text:e["intro.text"]})}),Object(l.jsx)("div",{className:"home__cta",children:Object(l.jsx)(v.b,{className:"home__btn",to:e["intro.link"],children:Object(l.jsx)("em",{children:e["intro.btn"]})})})]})})}),Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(W,{children:Object(l.jsx)(K,{children:Object(l.jsx)(v.a,{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)(w.c,{children:[Object(l.jsx)(w.a,{exact:!0,path:"/",children:Object(l.jsx)(Te,{})}),Object(l.jsxs)(w.a,{path:"/course/js/basic/:chapter/:step",children:[Object(l.jsx)(he,{}),Object({NODE_ENV:"production",PUBLIC_URL:"https://www.escep.ch/basics",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"1623419481"}).REACT_APP_DEV&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(je,{}),Object(l.jsx)(ye,{})]})]})]}),Object(l.jsx)(Se,{})]})})})})}),document.getElementById("root")),Ce()},18:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return y}));var c=n(28),r=n(5),a=n(55),i=n(56),s=n(60),o=n(59),l=n(2),d=n(1),u=["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","onSelect","tabSize","insertSpaces","ignoreTabKey","preClassName"],p=90,h=219,j=222,v=192,b=100,f=3e3,O="navigator"in e&&/Win/i.test(navigator.platform),_="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),m="npm__react-simple-code-editor__textarea",g="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(m,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(m," {\n    color: transparent !important;\n  }\n\n  .").concat(m,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),x=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={capture:!0},e._recordCurrentState=function(){var t=e._input;if(t){var n=t.value,c=t.selectionStart,r=t.selectionEnd;e._recordChange({value:n,selectionStart:c,selectionEnd:r})}},e._getLines=function(e,t){return e.substring(0,t).split("\n")},e._recordChange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=e._history,a=c.stack,i=c.offset;if(a.length&&i>-1){e._history.stack=a.slice(0,i+1);var s=e._history.stack.length;if(s>b){var o=s-b;e._history.stack=a.slice(o,s),e._history.offset=Math.max(e._history.offset-o,0)}}var l=Date.now();if(n){var d=e._history.stack[e._history.offset];if(d&&l-d.timestamp<f){var u=/[^a-z0-9]([a-z0-9]+)$/i,p=e._getLines(d.value,d.selectionStart).pop().match(u),h=e._getLines(t.value,t.selectionStart).pop().match(u);if(p&&h&&h[1].startsWith(p[1]))return void(e._history.stack[e._history.offset]=Object(r.a)(Object(r.a)({},t),{},{timestamp:l}))}}e._history.stack.push(Object(r.a)(Object(r.a)({},t),{},{timestamp:l})),e._history.offset++},e._updateInput=function(t){var n=e._input;n&&(n.value=t.value,n.selectionStart=t.selectionStart,n.selectionEnd=t.selectionEnd,e.props.onValueChange(t.value))},e._applyEdits=function(t){var n=e._input,c=e._history.stack[e._history.offset];c&&n&&(e._history.stack[e._history.offset]=Object(r.a)(Object(r.a)({},c),{},{selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})),e._recordChange(t),e._updateInput(t)},e._undoEdit=function(){var t=e._history,n=t.stack,c=t.offset,r=n[c-1];r&&(e._updateInput(r),e._history.offset=Math.max(c-1,0))},e._redoEdit=function(){var t=e._history,n=t.stack,c=t.offset,r=n[c+1];r&&(e._updateInput(r),e._history.offset=Math.min(c+1,n.length-1))},e._handleKeyDown=function(t){var n=e.props,c=n.tabSize,r=n.insertSpaces,a=n.ignoreTabKey,i=n.onKeyDown;if(!i||(i(t),!t.defaultPrevented)){27===t.keyCode&&t.target.blur();var s=t.target,o=s.value,l=s.selectionStart,d=s.selectionEnd,u=(r?" ":"\t").repeat(c);if(9===t.keyCode&&!a&&e.state.capture)if(t.preventDefault(),t.shiftKey){var b=e._getLines(o,l),f=b.length-1,m=e._getLines(o,d).length-1,g=o.split("\n").map((function(e,t){return t>=f&&t<=m&&e.startsWith(u)?e.substring(u.length):e})).join("\n");if(o!==g){var x=b[f];e._applyEdits({value:g,selectionStart:x.startsWith(u)?l-u.length:l,selectionEnd:d-(o.length-g.length)})}}else if(l!==d){var y=e._getLines(o,l),E=y.length-1,S=e._getLines(o,d).length-1,T=y[E];e._applyEdits({value:o.split("\n").map((function(e,t){return t>=E&&t<=S?u+e:e})).join("\n"),selectionStart:/\S/.test(T)?l+u.length:l,selectionEnd:d+u.length*(S-E+1)})}else{var C=l+u.length;e._applyEdits({value:o.substring(0,l)+u+o.substring(d),selectionStart:C,selectionEnd:C})}else if(8===t.keyCode){var N=l!==d;if(o.substring(0,l).endsWith(u)&&!N){t.preventDefault();var R=l-u.length;e._applyEdits({value:o.substring(0,l-u.length)+o.substring(d),selectionStart:R,selectionEnd:R})}}else if(13===t.keyCode){if(l===d){var w=e._getLines(o,l).pop().match(/^\s+/);if(w&&w[0]){t.preventDefault();var k="\n"+w[0],P=l+k.length;e._applyEdits({value:o.substring(0,l)+k+o.substring(d),selectionStart:P,selectionEnd:P})}}}else if(57===t.keyCode||t.keyCode===h||t.keyCode===j||t.keyCode===v){var D;57===t.keyCode&&t.shiftKey?D=["(",")"]:t.keyCode===h?D=t.shiftKey?["{","}"]:["[","]"]:t.keyCode===j?D=t.shiftKey?['"','"']:["'","'"]:t.keyCode!==v||t.shiftKey||(D=["`","`"]),l!==d&&D&&(t.preventDefault(),e._applyEdits({value:o.substring(0,l)+D[0]+o.substring(l,d)+D[1]+o.substring(d),selectionStart:l,selectionEnd:d+2}))}else!(_?t.metaKey&&t.keyCode===p:t.ctrlKey&&t.keyCode===p)||t.shiftKey||t.altKey?(_?t.metaKey&&t.keyCode===p&&t.shiftKey:O?t.ctrlKey&&89===t.keyCode:t.ctrlKey&&t.keyCode===p&&t.shiftKey)&&!t.altKey?(t.preventDefault(),e._redoEdit()):77!==t.keyCode||!t.ctrlKey||_&&!t.shiftKey||(t.preventDefault(),e.setState((function(e){return{capture:!e.capture}}))):(t.preventDefault(),e._undoEdit())}},e._handleChange=function(t){var n=t.target,c=n.value,r=n.selectionStart,a=n.selectionEnd;e._recordChange({value:c,selectionStart:r,selectionEnd:a},!0),e.props.onValueChange(c)},e._history={stack:[],offset:-1},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.style,i=t.padding,s=t.highlight,o=t.textareaId,l=t.textareaClassName,p=t.autoFocus,h=t.disabled,j=t.form,v=t.maxLength,b=t.minLength,f=t.name,O=t.placeholder,_=t.readOnly,x=t.required,E=t.onClick,S=t.onFocus,T=t.onBlur,C=t.onKeyUp,N=(t.onKeyDown,t.onValueChange,t.onSelect),R=(t.tabSize,t.insertSpaces,t.ignoreTabKey,t.preClassName),w=Object(c.a)(t,u),k={paddingTop:i,paddingRight:i,paddingBottom:i,paddingLeft:i},P=s(n);return Object(d.jsxs)("div",Object(r.a)(Object(r.a)({},w),{},{style:Object(r.a)(Object(r.a)({},y.container),a),children:[Object(d.jsx)("textarea",{ref:function(t){return e._input=t},style:Object(r.a)(Object(r.a)(Object(r.a)({},y.editor),y.textarea),k),className:m+(l?" ".concat(l):""),id:o,value:n,onChange:this._handleChange,onSelect:N,onKeyDown:this._handleKeyDown,onClick:E,onKeyUp:C,onFocus:S,onBlur:T,disabled:h,form:j,maxLength:v,minLength:b,name:f,placeholder:O,readOnly:_,required:x,autoFocus:p,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Object(d.jsx)("pre",Object(r.a)({className:R,"aria-hidden":"true",style:Object(r.a)(Object(r.a)(Object(r.a)({},y.editor),y.highlight),k)},"string"===typeof P?{dangerouslySetInnerHTML:{__html:P+"<br />"}}:{children:P})),Object(d.jsx)("style",{type:"text/css",dangerouslySetInnerHTML:{__html:g}})]}))}}]),n}(l.Component);x.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0};var y={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,n(16))},48:function(e){e.exports=JSON.parse('{"name":"tutorial.javascript","version":"0.1.0","private":true,"homepage":".","dependencies":{"@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.15","@types/node":"^12.0.0","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@wmik/use-media-recorder":"^1.1.0-beta.1","file-saver":"^2.0.5","lodash":"^4.17.21","mdast-util-from-span-markdown":"^1.0.4","prismjs":"^1.23.0","react":"^17.0.1","react-dom":"^17.0.1","react-range":"^1.8.7","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-simple-code-editor":"^0.11.0","typescript":"^4.1.2","video.js":"^7.11.4","web-vitals":"^1.0.1"},"scripts":{"start":"REACT_APP_BUILD_TIME=$(date +%s) REACT_APP_DEV=TRUE react-scripts start","present":"REACT_APP_BUILD_TIME=$(date +%s) react-scripts start","build":"PUBLIC_URL=https://www.escep.ch/basics REACT_APP_BUILD_TIME=$(date +%s) react-scripts build","lint:fix":"eslint --fix --ext .ts,.tsx,.jsx,js --ignore-path .gitignore .","test":"react-scripts test","eject":"react-scripts eject","deploy":"npm run build && gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/lodash":"^4.14.168","@types/react-router-dom":"^5.1.7","@types/video.js":"^7.3.15","gh-pages":"^3.1.0"}}')},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t){}},[[117,1,2]]]);
//# sourceMappingURL=main.2162b0b7.chunk.js.map